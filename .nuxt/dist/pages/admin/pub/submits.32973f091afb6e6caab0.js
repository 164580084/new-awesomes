webpackJsonp([11],{"6pPW":function(t,e,a){var s=a("XFtu");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("XkoO")("313b218a",s,!0)},"9Nt2":function(t,e,a){"use strict";var s=a("tbly");e.a={data:function(){return{keys:{html_url:{alia:"地址",type:"a"},typcd:"类型",status:{alia:"状态",trclass:!0}}}},components:{List:s},methods:{}}},OTg9:function(t,e,a){var s=a("zW0P");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("XkoO")("0ec2be66",s,!0)},XFtu:function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,"table[data-v-569108f3]{width:100%}.opers a[data-v-569108f3]{margin-right:10px}",""])},b7Wi:function(t,e,a){"use strict";var s=a("lC5x"),r=a.n(s),n=a("J0Oq"),i=a.n(n),c=a("hRKE"),o=a.n(c),u=a("YFWx");e.a={props:["table","keys","opers"],data:function(){return{items:[],pagetotal:0,pagesize:15}},watch:{$route:function(){this.fetchList()}},computed:{trClassKey:function(){var t="";for(var e in this.keys)"object"===o()(this.keys[e])&&this.keys[e].trclass&&(t=e);return t}},methods:{hasOper:function(t){return this.opers&&this.opers.indexOf(t)>-1},fetchList:function(){function t(){return e.apply(this,arguments)}var e=i()(r.a.mark(function t(){var e,a,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.$route.query.page||1,t.next=3,Object(u.a)().get("admin/tables",{params:{table:this.table,limit:15,skip:15*(e-1)}});case 3:a=t.sent,s=a.data.items,this.items=s,this.pagetotal=a.data.count;case 7:case"end":return t.stop()}},t,this)}));return t}(),destroy:function(){function t(t,a){return e.apply(this,arguments)}var e=i()(r.a.mark(function t(e,a){var s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(confirm("确定删除该数据？")){t.next=2;break}return t.abrupt("return",!1);case 2:return t.next=4,Object(u.a)().post("admin/destroy",{table:this.table,id:e.id});case 4:s=t.sent,s.data.status&&(this.items.splice(a,1),this.$alert("success","删除数据成功！"));case 6:case"end":return t.stop()}},t,this)}));return t}(),fetch:function(){function t(t){return e.apply(this,arguments)}var e=i()(r.a.mark(function t(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.a)().get("submit/"+e.id+"/fetch",{table:this.table,id:e.id});case 2:e.status="READED",this.$alert("success","提取成功！");case 4:case"end":return t.stop()}},t,this)}));return t}(),agreeWebkerApply:function(){function t(t){return e.apply(this,arguments)}var e=i()(r.a.mark(function t(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.a)().post("mem/"+e.from+"/setwebker");case 2:this.$alert("success","设置成功！");case 3:case"end":return t.stop()}},t,this)}));return t}()},created:function(){this.fetchList()}}},okBe:function(t,e,a){"use strict";function s(t){a("OTg9")}Object.defineProperty(e,"__esModule",{value:!0});var r=a("9Nt2"),n=a("vU0R"),i=a("J0+h"),c=s,o=i(r.a,n.a,c,null,null);e.default=o.exports},tbly:function(t,e,a){"use strict";function s(t){a("6pPW")}Object.defineProperty(e,"__esModule",{value:!0});var r=a("b7Wi"),n=a("tzY3"),i=a("J0+h"),c=s,o=i(r.a,n.a,c,"data-v-569108f3",null);e.default=o.exports},tzY3:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"table table-striped table-bordered"},[a("thead",[a("tr",[a("th",[t._v("#")]),t._l(t.keys,function(e){return a("th",[t._v(t._s("object"==typeof e?e.alia:e))])}),a("th",[t._v("创建时间")]),a("th",[t._v("操作")])],2)]),a("tbody",t._l(t.items,function(e,s){return a("tr",{class:"trflag-"+e[t.trClassKey]},[a("td",[t._v(t._s(e.id))]),t._l(t.keys,function(s,r){return a("td",["object"!=typeof s?a("span",[t._v(t._s(e[r]))]):t._e(),"object"==typeof s?["a"==s.type?a("a",{attrs:{href:s.link?s.link(e):e[r],target:"_blank"}},[t._v(t._s(e[r]))]):t._e(),s.type?t._e():a("span",[t._v(t._s(e[r]))])]:t._e()],2)}),a("td",[t._v(t._s(e.created_at))]),a("td",{staticClass:"opers"},[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){t.destroy(e,s)}}},[t._v("删除")]),t.hasOper("fetch")?a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){t.fetch(e)}}},[t._v("提取")]):t._e(),t.hasOper("agree_webker_apply")?a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){t.agreeWebkerApply(e)}}},[t._v("同意")]):t._e(),t._t("default")],2)],2)}))]),a("pagination",{attrs:{flag:"repos-list",total:t.pagetotal,size:t.pagesize}})],1)},r=[],n={render:s,staticRenderFns:r};e.a=n},vU0R:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("list",{attrs:{table:"submit",keys:t.keys,opers:"['fetch']"}})],1)},r=[],n={render:s,staticRenderFns:r};e.a=n},zW0P:function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,".page-admin-pub-submits tr.trflag-UNREAD *{color:#c7c7c7}",""])}});
//# sourceMappingURL=submits.32973f091afb6e6caab0.js.map